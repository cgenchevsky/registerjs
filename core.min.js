(function(r,p){if(r&&r.Core){return}var l,u=r||p,o=r||{},s=o.document,a=o.location,b={version:"3.3.6"},v={},t,z,x={},w=[],q={},A={},y=[],n=[],f="",h,m,g=function(){},e=function(B){return setTimeout(B,1)},c=function(B){return setTimeout(B,10)},i=function(B){return setInterval(B,15)};if(p){a={protocol:"",hostname:require("os").hostname(),search:""}}if(s){s.head||(s.head=s.getElementsByTagName&&s.getElementsByTagName("head")[0])}[].forEach||(Array.prototype.forEach=function(D,B){if(this==null){throw new TypeError("this is null or not defined")}var G,H,F,E=Object(this),C=E.length>>>0;if({}.toString.call(D)!="[object Function]"){throw new TypeError(D+" is not a function")}if(B){G=B}H=0;while(H<C){if(H in E){F=E[H];D.call(G,F,H,E)}H++}});[].map||(Array.prototype.map=function(B,C){if(this==null){throw new TypeError("this is null or not defined")}if({}.toString.call(B)!="[object Function]"){throw new TypeError(B+" is not a function")}var I,J,H,G,D,E=Object(this),F=E.length>>>0;C&&(I=C);J=new Array(F);H=0;while(H<F){if(H in E){G=E[H];D=B.call(I,G,H,E);J[H]=D}H++}return J});[].filter||(Array.prototype.filter=function(B){if(this==null){throw new TypeError("this is null or not defined")}if(typeof B!="function"){throw new TypeError(B+" is not a function")}var E=Object(this),C=E.length>>>0,F=[],G=arguments[1],H,D;for(H=0;H<C;H++){if(H in E){D=E[H];if(B.call(G,D,H,E)){F.push(D)}}}return F});[].some||(Array.prototype.some=function(B){if(this==null){throw new TypeError("this is null or not defined")}if(typeof B!="function"){throw new TypeError(B+" is not a function")}var D=Object(this),C=D.length>>>0,E=arguments[1],F;for(F=0;F<C;F++){if(F in D&&B.call(E,D[F],F,D)){return true}}return false});[].every||(Array.prototype.every||function(B){if(this==null){throw new TypeError("this is null or not defined")}if(typeof B!="function"){throw new TypeError(B+" is not a function")}var D=Object(this),C=D.length>>>0,E=arguments[1],F;for(F=0;F<C;F++){if(F in D&&!B.call(E,D[F],F,D)){return false}}return true});(function(){}).bind||(Function.prototype.bind=function(C){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var D=Array.prototype.slice.call(arguments,1),E=this,B=function(){},F=function(){return E.apply(this instanceof B&&C?this:C,D.concat(Array.prototype.slice.call(arguments)))};B.prototype=this.prototype;F.prototype=new B();return F});Object.create=Object.create||(function(){function B(){}return function(C){if(arguments.length!=1){throw new Error("Object.create implementation only accepts one parameter.")}B.prototype=C;return new B()}}());"".trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\u00A0]+|[\s\uFEFF\u00A0]+$/g,"")});(function(){var C=0,D=["webkit","moz","ms"],B;for(B=0;B<D.length&&!o.requestAnimationFrame;++B){h=o[D[B]+"RequestAnimationFrame"];m=o[D[B]+"CancelAnimationFrame"]||o[D[B]+"CancelRequestAnimationFrame"]}if(!h){h=function(H){var E=new Date().getTime(),F=Math.max(0,16-(E-C)),G=o.setTimeout(function(){H(E+F)},F);C=E+F;return G}}if(!m){m=function(E){clearTimeout(E)}}}());u.console||(u.console={log:g});u.console.error||(u.console.error=g);u.console.dir||(u.console.dir=function(D){var C,B="";if(typeof D==="object"){if(D.length){return console.log("["+D.toString()+"]")}B+="{\n";for(C in D){B+="  "+C+": "+D[C]+"\n"}B+="}";return console.log(B)}else{return console.log(D)}});x={sequence:{js:[],css:[],media:[],text:[],other:[]},urls:{},add:function(C,B,D){this.urls[C]={type:B.type,format:B.format,async:B.async,defer:B.defer,reload:B.reload,loaded:false,executed:false,executionFunction:D};if(typeof D!=="function"){return}if(B.type==="script"){this.sequence.js.push(C)}else{if(B.type==="style"){this.sequence.css.push(C)}else{if(B.type==="image"){this.sequence.media.push(C)}else{if(B.type==="text"){this.sequence.text.push(C)}else{this.sequence.other.push(C)}}}}},ready:function(D,B){var C=this;this.urls[D].loaded=true;B=(B===l)?true:B;this.urls[D].executed=!B;["js","css","media","text","other"].forEach(function(F){var G,E=0;while(G=C.urls[C.sequence[F][E++]]){if(!G.loaded&&!G.executed){break}else{if(G.loaded&&!G.executed){G.executionFunction();G.executed=true}}}})},notReady:function(B){return this.ready(B,false)}};var d=b.Promise=(function(F){var C,H,B,I,G=function(J){return(typeof J==="function")},D=F.setImmediate||(F.msClearImmediate&&F.msSetImmediate)||function(J){return setTimeout(J,1)},E=F.clearImmediate||F.msClearImmediate||function(J){return clearTimeout(J,1)};C=function(J){this.canceler=J;this.isResolved=false;this.isRejected=false;this.result=[];this.Callbacks=[];this.newPromise;this.promise=I};C.prototype.updateResult=function(J){if(J!==I){this.result=[J]}};C.prototype.call=function(K){var M=this.isResolved?K.done:K.canceled,N=this,J;if(M){try{J=M.apply(N.promise||N,N.result);if(J&&typeof J.then==="function"&&J!==(N.promise||N)){this.newPromise=J;while(K=this.Callbacks.shift()){J.then(K.done,K.canceled,K.progress)}J.then(N.updateResult,N.updateResult,N.updateResult);return}else{N.updateResult(J)}}catch(L){if(!N.isRejected){N.isResolved=false;N.reject(L)}throw L}}else{}};C.prototype.resolve=function(){if(this.isResolved||this.isRejected){return this}var J;this.result=arguments;this.isResolved=true;while(J=this.Callbacks.shift()){this.call(J)}J=null;this.Callbacks=[];return this};C.prototype.reject=function(){if(this.isResolved||this.isRejected){return this}var J;this.result=arguments;this.isResolved=false;this.isRejected=true;while(J=this.Callbacks.shift()){this.call(J)}J=null;this.Callbacks=[];return this};C.prototype.progress=function(){if(this.isResolved||this.isRejected){return this}var L,K=0,J;this.result=arguments;try{while(L=this.Callbacks[K++]){L.progress&&(J=L.progress.apply(this.promise,this.result));if(!(J&&typeof J.then==="function")){this.updateResult(J)}}}catch(M){throw M}return this};C.prototype.then=function(J,M,L){var K={done:G(J)?J:I,canceled:G(M)?M:I,progress:G(L)?L:I};if(this.newPromise){this.newPromise.then(J,M,L)}else{if(this.isResolved||this.isRejected){this.call(K)}else{this.Callbacks.push(K)}}return this};C.prototype.cancel=function(){G(this.canceler)&&this.canceler();if(this.newPromise){this.newPromise.cancel()}else{this.reject(new Error("Canceled"))}return this};C.prototype.wait=function(J){var L,K=(J)?setTimeout:D;L=K(this.resolve.bind(this),J);return this.then(function(){(J)?clearTimeout(L):E(L)},function(){(J)?clearTimeout(L):E(L)})};C.prototype.timeout=function(J){var M,K=this,L=(J)?setTimeout:D;M=L(function(){K.reject(new Error("Timedout"));K.cancel()},J);return this.then(function(){(J)?clearTimeout(M):E(M)},function(){(J)?clearTimeout(M):E(M)})};C.prototype.interval=function(J){var L,K=(J)?setTimeout:D;L=K(this.progress.bind(this),J);return this.then(function(){(J)?clearTimeout(L):E(L)},function(){(J)?clearTimeout(L):E(L)})};C.prototype.delay=function(J){if(J){var K=new C(),L=this;this.then(function(){return K.wait(J).then(function(){return L.result[0]})},function(){return K.timeout(J).then(null,function(){return L.result[0]})})}return this};C.prototype.and=function(J){return this.then(function(K){return H(J).then(function(){return K},function(L){return L})})};H=function(M,J){var K=(this instanceof H),L;if(K){L=new C(J);L.promise=this;if(G(M)){M(L.resolve.bind(L),L.reject.bind(L),L.progress.bind(L))}else{L.then(function(){return M})}L.promise.then=function(P,O,N){L.then(P,O,N);return this};L.promise.cancel=function(){L.cancel();return this};L.promise.wait=function(N){L.wait(N);return this};L.promise.timeout=function(N){L.timeout(N);return this};L.promise.interval=function(N){L.interval(N);return this};L.promise.delay=function(N){L.delay(N);return this};L.promise.and=function(N){L.and(N);return this}}else{L=new C();L.promise=new H(function(P,O,N){L.then(function(Q){P(Q)},function(Q){O(Q)})});if(M instanceof H){return M}else{if(H.isPromise(M)){M.then(L.resolve.bind(L),L.reject.bind(L),L.progress.bind(L))}else{if(G(M)){L.resolve(M())}else{if(M instanceof Error||(M&&M.toString&&/Error:/.test(M.toString()))){L.reject(M)}else{L.resolve(M)}}}}}return L.promise};B=function(J){return function(){var K=[],L={length:0,done:0,error:0,Results:[],ErrorResults:[]};Array.prototype.forEach.call(arguments,function(M){if(M instanceof Array||(typeof M==="object"&&0 in M)){K=K.concat(Array.prototype.slice.call(M))}else{K.push(M)}});L.length=K.length;return new H(function(O,N,M){var P=J(L,O,N,M);K.forEach(function(R,Q){R=H(R);D(function(){R.then(P.itemResolved.bind(R,Q),P.itemRejected.bind(R,Q),P.itemProgress.bind(R,Q))})})},function(){K&&D(function(){K.forEach(function(M){M.cancel()})})})}};H.every=B(function(L,J,M,K){if(!L.length){J([])}return{itemResolved:function(O,N){K(N);L.done+=1;L.Results[O]=N;if(L.done==L.length){J(L.Results)}},itemRejected:function(N,O){M(O)},itemProgress:g}});H.any=B(function(L,J,M,K){if(!L.length){J([])}return{itemResolved:function(O,N){K(N);L.done+=1;L.Results[O]=N;if(L.done==L.length){J(L.Results)}},itemRejected:function(N,O){K(O);L.done+=1;L.Results[N]=O;if(L.done==L.length){J(L.Results)}},itemProgress:g}});H.some=B(function(L,J,M,K){return{itemResolved:function(O,N){K(N);L.done+=1;L.Results[O]=N;if(L.done==L.length){J(L.Results.filter(function(){return true}))}},itemRejected:function(N,O){K(O);L.done+=1;L.error+=1;L.ErrorResults[N]=O;if(L.error==L.length){M(L.ErrorResults)}else{if(L.done==L.length){J(L.Results)}}},itemProgress:g}});H.isPromise=function(J){return J&&typeof J==="object"&&typeof J.then==="function"};return H}(u));b.DOMReady=new d(function(C,E){var D,G=1;function B(){if(D){return}if(o.event&&o.event.type=="readystatechange"&&s.readyState&&s.readyState!=="complete"){return}D=true;if(o.addEventListener){s.removeEventListener("DOMContentLoaded",B,false);o.removeEventListener("load",B,false)}else{if(o.attachEvent){s.detachEvent("onreadystatechange",B);o.detachEvent("onload",B)}}C(s)}if(o.addEventListener){s.addEventListener("DOMContentLoaded",B,false);o.addEventListener("load",B,false)}else{if(o.attachEvent){s.attachEvent("onreadystatechange",B);try{G=o.frameElement}catch(F){}if(!G&&s.head.doScroll){(function(){try{s.head.doScroll("left");B()}catch(H){c(arguments.callee);return}}())}o.attachEvent("onload",B)}}});b.DOMLoaded=new d(function(C,D){function B(E){if(o.addEventListener){o.removeEventListener("load",B,false);o.removeEventListener("abort",B,false)}else{if(o.attachEvent){o.detachEvent("onload",B);o.detachEvent("onabort",B)}}E||(E=o.event);switch(E.type){case"load":C(o);break;case"abort":D(new Error("Aborted"));break}}if(o.addEventListener){o.addEventListener("load",B,false);o.addEventListener("abort",B,false)}else{if(o.attachEvent){o.attachEvent("onload",B);o.attachEvent("onabort",B)}}},function(){if(!!o.stop){o.stop()}else{if(!!s.execCommand){s.execCommand("Stop")}}});if(s&&!s.readyState){s.readyState="loading";b.DOMReady.then(function(){s.readyState="interactive"});b.DOMLoaded.then(function(){s.readyState="complete"})}b.UIReady=new d(function(C,B,D){b.DOMReady.then(function(){d.any(w).then(C,B,D)},B,D)});b.DOMLoaded=(function(){var C=b.DOMLoaded,E,D=[],B;return new d(function(F,G,H){b.DOMReady.then(function(){for(B in x.urls){D.push(x.urls[B].promise)}E=d.any(D).and(C).then(F,G,H)})},function(){b.DOMReady.cancel();for(B in x.urls){x.urls[B].promise.cancel()}E&&E.cancel();C.cancel()})}());b.DOMReady.then(function(){var C=[],D,B;for(B in x.urls){D=x.urls[B];if(!D.async){C.push(D.promise)}}return d.any(C)},function(){var C,B;for(B in x.urls){C=x.urls[B];if(!C.async){C.promise.cancel()}}});b.load=function(B,J){J||(J={});if(typeof J==="string"){J={defer:/(^|\s*,\s*|\s+)defer($|\s*,\s*|\s+)/.test(J),async:/(^|\s*,\s*|\s+)async($|\s*,\s*|\s+)/.test(J),reload:/(^|\s*,\s*|\s+)reload($|\s*,\s*|\s+)/.test(J)}}var E,G,C,D=false,F=false,I="",H;if(B&&B.nodeName){G=B;B=G.getAttribute?(G.getAttribute("src")||G.getAttribute("href")):(G.src||G.href);switch(G.nodeName.toLowerCase()){case"script":J.type="script";break;case"style":case"link":J.type="style";break;case"img":J.type="image";break;case"audio":J.type="audio";break;case"video":J.type="video";break;default:J.type=l}J.async=!!G.async;J.defer=!!G.defer}if(!B){return d(G)}if(B instanceof Array){return d.every(B.map(function(K){return b.load(K,J)}))}if(J.reload&&(B in x.urls)){B=b.URL.randomize(B)}if(!J.reload&&(B in x.urls)){return x.urls[B].promise}B=b.template(B);E=B.split("?")[0].lastIndexOf(".");if(E==-1&&!J.type){return d()}J.format||(J.format=(E==-1)?l:B.split("?")[0].substr(E+1));if(!J.type){switch(J.format){case"js":J.type="script";break;case"css":J.type="style";break;case"jpg":case"jpeg":case"gif":case"png":case"svg":case"webp":case"bmp":J.type="image";break;case"woff":case"eot":case"ttf":case"otf":J.type="font";break;case"mp3":case"ogg":case"wav":case"aac":case"m4a":J.type="audio";break;case"mp4":case"ogv":case"webm":case"ogv":case"avi":case"mov":case"m4v":J.type="video";break;case"json":J.type="json";break;case"html":case"htm":case"txt":case"tpl":J.type="text";break;default:J.type=l}}switch(J.type){case"script":C=new d(function(P,L,O){G=G||s.createElement("script");G.type=G.type||"text/javascript";L=L.bind(null,new Error("Error 404: Script '"+B+"' not found"));var N=(function(){var R;if(!navigator.userAgent){return false}R=/(webkit)[\/]([\w.]+)/i.exec(navigator.userAgent);if(R&&R[2]){return(parseFloat(R[2],10)<=534.13)}return false}()),Q=!!(o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]"&&!("async" in G)),K,M;if(N&&J.defer){K=x.sequence.js.length;G.onload=function(){if(D){return}this.onload=this.onerror=null;D=true;P(G)};G.onerror=function(R){this.onload=this.onerror=null;F=true;this.parentNode&&this.parentNode.removeChild(this);L()};G.defer=true;G.async=false;x.add(B,J,g);G.src||(G.src=b.config.cache?B:b.URL.randomize(B));M=s.createElement("script");M.type="text/prefetch";M.onload=function(){if(K){x.urls[x.sequence.js[K-1]].promise.then(function(){s.head.appendChild(G)},function(){s.head.appendChild(G)})}else{s.head.appendChild(G)}};M.src=G.src;s.head.appendChild(M)}else{if(J.defer||J.async){if(!-[1]||(s.documentMode&&s.documentMode<=9)){if(J.async){x.add(B,J)}else{x.add(B,J,function(){s.head.appendChild(G);if(G.readyState=="loading"){G.onerror()}else{D=true;G.onreadystatechange=G.onerror=null;P(G)}})}G.onreadystatechange=function(){if(D){return}if(this.readyState&&!/complete|loaded/.test(this.readyState)){O(this.readyState)}else{if(J.async){s.head.appendChild(G);if(G.readyState=="loading"){G.onerror()}else{D=true;this.onreadystatechange=this.onerror=null;P(G)}}else{x.ready(B)}}}}else{x.add(B,J);G.onload=function(){D=true;this.onload=this.onerror=null;P(G)};s.head.appendChild(G)}G.onerror=function(R){F=true;this.onload=this.onreadystatechange=this.onerror=null;this.parentNode&&this.parentNode.removeChild(this);if(!J.async){x.notReady(B)}L()};H=j.asyncCall(Q,function(){if(J.async){G.defer=true;G.async=true}else{G.defer=true;G.async=false}G.src||(G.src=b.config.cache?B:b.URL.randomize(B))})}else{x.add(B,J);b.requestSync(B).then(function(S){D=true;G.setAttribute("data-src",B);try{G.innerHTML=S}catch(R){G.text=S}s.head.appendChild(G);P(G)},function(){F=true;L()})}}},function(){if(D||F){return}F=true;G.onload=G.onreadystatechange=G.onerror=null;clearTimeout(H);G.parentNode&&G.parentNode.removeChild(G);if(J.defer&&!J.async){x.notReady(B)}});break;case"style":C=new d(function(O,L,N){L=L.bind(null,new Error("Error 404: CSS '"+B+"' not found"));if(J.defer||J.async){if(J.async){x.add(B,J)}else{x.add(B,J,function(){s.head.appendChild(G);D=true;O(G)})}G=s.createElement("link");G.rel="stylesheet";G.type="text/css";if(J.media){G.media=J.media}var Q=(G.onload!==null),M=(Object.prototype.toString.call(o.HTMLElement).indexOf("Constructor")>0)||(/android|silk/.test(navigator.userAgent.toLowerCase()||navigator.vendor.toLowerCase())),K=(o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]"),P=("readyState" in G);G.onload=function(){if(P){try{if(G.sheet&&G.sheet.cssRules&&G.sheet.cssRules.length||G.styleSheet&&G.styleSheet.rules&&G.styleSheet.rules.length){}else{G.onerror();return}}catch(R){G.onerror();return}}this.onload=this.onreadystatechange=this.onerror=null;if(J.async){s.head.appendChild(this);D=true;O(G)}else{s.head.removeChild(this);x.ready(B)}};G.onreadystatechange=function(){if(!/complete|loaded/.test(this.readyState)){N(this.readyState)}};G.onerror=function(R){this.onload=this.onreadystatechange=this.onerror=null;F=true;this.parentNode&&this.parentNode.removeChild(this);if(!J.async){x.notReady(B)}L()};G.href=b.config.cache?B:b.URL.randomize(B);j.asyncCall(J.async,function(){s.head.appendChild(G);if(K){b.URL.isAvailableAsync(G.href).then(function(T){if(!T){G.onerror&&G.onerror()}})}var S,R;if(Q){S=s.createElement("style");S.type="text/css";S.textContent='@import "'+G.href+'"';R=i(function(){try{S.sheet.cssRules;G.onload&&G.onload();clearInterval(R);S.parentNode&&S.parentNode.removeChild(S);S=R=l}catch(T){}});s.head.appendChild(S)}else{if(M){R=i(function(){try{if(G.sheet.cssRules.length){G.onload&&G.onload()}else{G.onerror&&G.onerror()}clearInterval(R);R=l}catch(T){if((T.code==1000)||(T.message=="security"||T.message=="denied")){G.onload&&G.onload();clearInterval(R);R=null}}})}}})}else{x.add(B,J);b.requestSync(B).then(function(R){R=j.relocateCSS(R,B,a.href);G=j.injectCSS(R,{"data-src":B,media:J.media});D=true;O(G)},function(R){F=true;L()})}},function(){if(D||F){return}F=true;G.onload=G.onreadystatechange=G.onerror=null;clearTimeout(H);G.parentNode&&G.parentNode.removeChild(G);if(J.defer&&!J.async){x.notReady(B)}});break;case"image":C=new d(function(M,K,L){if(J.defer&&!J.async){x.add(B,J,function(){D=true;M(G)})}else{x.add(B,J)}G=G||new Image();G.onload=G.onreadystatechange=function(){clearInterval(H);if(this.readyState&&!/complete|loaded/.test(this.readyState)){L(G,this.readyState);return}this.onload=this.onreadystatechange=this.onerror=this.onabort=null;if(J.defer&&!J.async){x.ready(B)}else{D=true;M(G)}};G.onerror=function(N){clearInterval(H);this.onload=this.onreadystatechange=this.onerror=this.onabort=null;F=true;K(new Error("Error 404: Image '"+B+"' not found"))};G.onabort=function(){clearInterval(H);this.onload=this.onreadystatechange=this.onerror=this.onabort=null;F=true;K(new Error("Aborted"))};G.src||(G.src=(b.config.cache&&b.config.cacheImages)?B:b.URL.randomize(B));H=i(function(){if(G.width){clearInterval(H);L(G,G.readyState||"uninitialized")}});if(G.complete&&G.onload){G.onload()}},function(){if(D||F){return}F=true;G.onload=G.onreadystatechange=G.onabort=G.onerror=null;clearInterval(H);G.src="#";if(J.defer&&!J.async){x.notReady(B)}});break;case"audio":case"video":case"media":C=new d(function(O,K,N){if(J.defer&&!J.async){x.add(B,J,function(){D=true;O(G)})}else{x.add(B,J)}G=G||(J.type=="audio")?s.createElement("audio"):s.createElement("video");G.autoplay=false;G.preload="auto";G.autobuffer=true;if(!G.play){K(new Error("MEDIA_ERR_SRC_NOT_SUPPORTED"));return}var M=!!o.webkitURL,Q=function(R){clearTimeout(H);if(M&&this.buffered.length&&(this.currentTime<this.buffered.end(0))&&this.paused&&!this.ended){H=setTimeout(function(){G.currentTime=parseInt(G.buffered.end(0)+G.buffered.end(0)*0.1)},50)}if(R.type!="load"){if(this.buffered&&!(this.buffered.length&&((this.buffered.end(0)-this.duration).toFixed(3)>=0))){N(R.type,this.buffered.length&&(this.buffered.end(0)/this.duration).toFixed(5)||0,G);return}else{if(!this.buffered&&!(R.total>0&&((R.loaded-R.total)>=0))){N(R.type,R.total&&(R.loaded/R.total).toFixed(5)||0,G);return}}}clearTimeout(H);if(M&&(this.ended||this.paused)&&!G.complete){this.currentTime=0}G.cleanHandlers();if(J.defer&&!J.async){x.ready(B)}else{D=true;O(G)}},P=function(V){var S,U,T=V.target.error.code,R=V.target.error.constructor;for(S in R){if(R[S]==T){U=S;break}}G.cleanHandlers();F=true;K(new Error(U))},L=function(){G.cleanHandlers();F=true;K(new Error("Aborted"))};G.cleanHandlers=function(){if("oncanplay" in G){G.onloadstart=G.ondurationchange=G.onloadedmetadata=G.onloadeddata=G.onprogress=G.oncanplay=G.oncanplaythrough=G.onload=G.onerror=G.oncancel=G.onabort=null}else{j.removeDOMEvent(G,"loadstart",Q);j.removeDOMEvent(G,"durationchange",Q);j.removeDOMEvent(G,"loadedmetadata",Q);j.removeDOMEvent(G,"loadeddata",Q);j.removeDOMEvent(G,"progress",Q);j.removeDOMEvent(G,"canplay",Q);j.removeDOMEvent(G,"canplaythrough",Q);j.removeDOMEvent(G,"load",Q);j.removeDOMEvent(G,"error",P);j.removeDOMEvent(G,"cancel",L);j.removeDOMEvent(G,"abort",L)}delete this.cleanHandlers};if("oncanplay" in G){G.onloadstart=G.ondurationchange=G.onloadedmetadata=G.onloadeddata=G.onprogress=G.oncanplay=G.oncanplaythrough=G.onload=Q;G.onerror=P;G.oncancel=G.onabort=L}else{j.addDOMEvent(G,"loadstart",Q);j.addDOMEvent(G,"durationchange",Q);j.addDOMEvent(G,"loadedmetadata",Q);j.addDOMEvent(G,"loadeddata",Q);j.addDOMEvent(G,"progress",Q);j.addDOMEvent(G,"canplay",Q);j.addDOMEvent(G,"canplaythrough",Q);j.addDOMEvent(G,"load",Q);j.addDOMEvent(G,"error",P);j.addDOMEvent(G,"cancel",L);j.addDOMEvent(G,"abort",L)}G.src||(G.src=(b.config.cache&&b.config.cacheMedia)?B:b.URL.randomize(B));if(this.buffered&&this.buffered.length&&((this.buffered.end(0)-this.duration).toFixed(3)>=0)){G.complete=true;Q({type:"load"})}else{if(!G.duration){G.load()}}},function(){if(D||F){return}F=true;G.cleanHandlers&&G.cleanHandlers();clearTimeout(H);G.removeAttribute("src");G.load();if(J.defer&&!J.async){x.notReady(B)}});break;case"json":C=new d(function(M,K,L){if(J.defer&&!J.async){x.add(B,J,function(){D=true;M(I)})}else{x.add(B,J)}G=b[(J.defer||J.async)?"requestAsync":"requestSync"](B).then(function(N){try{I=b.JSON.parse(N);if(J.defer&&!J.async){x.ready(B)}else{D=true;M(I)}}catch(O){F=true;K(O)}},function(N){F=true;K(N)},function(N){L(N)})},function(){if(D||F){return}F=true;G&&G.cancel();if(J.defer&&!J.async){x.notReady(B)}});break;case"jsonp":C=new d(function(N,K,M){var O="coreJsonCallback_"+Math.round(Math.random()*Math.pow(10,15)),L;if(!/(\?|\&)callback=/.test(B)){B+=(B.indexOf("?")===-1?"?":"&")+"callback="+O}else{L=/callback=((.+)&|(.+)$)/.exec(B);O=L[2]||L[3]}I=O;o[O]=function(){delete o[O];D=true;N.apply(null,arguments)};J.type="script";G=b.load(B,J).then(null,function(P){delete o[O];F=true;K(P)},M)},function(){if(D||F){return}F=true;G&&G.cancel();delete o[I]});break;case"text":default:C=new d(function(M,K,L){if(J.defer&&!J.async){x.add(B,J,function(){D=true;M(I)})}else{x.add(B,J)}G=b[(J.defer||J.async)?"requestAsync":"requestSync"](B).then(function(N){try{I=(J.type=="text")?b.template(N):N;if(J.defer&&!J.async){x.ready(B)}else{if(!J.async&&J.type=="text"){s.writeln(I)}D=true;M(I)}}catch(O){F=true;K(O)}},function(N){F=true;K(N)},function(N){L(N)})},function(){if(D||F){return}F=true;clearTimeout(H);G&&G.cancel();if(J.defer&&!J.async){x.notReady(B)}})}x.urls[B].promise=C;return C};z=function(C,B){this.body=B;this.style=null;this.name=C;this.url=".";this.initiated=false;this.promise=d();this.sandbox=l};z.prototype.start=function(){var B=this;if(!B.initiated){if(B.body.css){B.style=j.injectCSS(B.body.css,{"data-module":B.name})}if(typeof B.body.init==="function"){try{B.promise=d(B.body.init());B.initiated=true}catch(C){B.style&&s.head.removeChild(B.style);B.style=null;j.fixError(C);B.promise=new d().cancel().then(null,function(){return C})}}else{B.initiated=true}}return B.promise};z.prototype.stop=function(){var B=this;if(B.initiated){if(typeof B.body.destroy==="function"){try{B.promise=d(B.body.destroy());B.initiated=false;B.body.runtime_listen&&(B.body.runtime_listen=l)}catch(C){j.fixError(C);B.promise=new d().cancel().then(null,function(){return C})}}else{B.promise=d();B.initiated=false;B.body.runtime_listen&&(B.body.runtime_listen=l)}}if(!B.initiated&&B.style&&s){s.head.removeChild(B.style);B.style=null}return B.promise};t=function(B){this.template=k(this);this.moduleName=B;this.moduleUrl="."};t.prototype.hasFeature=function(B){var C;if(typeof B!=="string"){return}if(B in b.Features){C=b.Features[B];return(typeof C==="function")?C():C}return false};t.prototype.load=function(B){B=this.template(B);return b.load.apply(b,arguments)};t.prototype.Promise=d;t.prototype.listen=function(B,C){if(B&&C&&v[this.moduleName]){v[this.moduleName].body.runtime_listen||(v[this.moduleName].body.runtime_listen={});var D=v[this.moduleName].body.runtime_listen[B]||[];D=(D instanceof Array)?D.concat(C):[D].concat(C);v[this.moduleName].body.runtime_listen[B]=D}return this};t.prototype.action=function(B,D){if(B&&(B in A)){D=(D&&typeof D==="object")?D:{};var C=0,E;while(E=A[B][C++]){E(D,{type:B,targetName:this.moduleName,timeStamp:(new Date()).getTime(),detail:D})}}return this};t.addTemplateRule=function(C,B){n.push({regexp:C,result:B})};t.addTemplateRule(/{module:url}/g,function(B){return B.moduleUrl});t.addTemplateRule(/{module:name}/g,function(B){return B.moduleName});var k=function(B){var C=B||{};return function(D){if(!(typeof D=="string"||D instanceof String)){return""}var E=function(H){var G=H.regexp,F;if(typeof H.result==="function"){F=H.result(C)}if(F!==l&&F!==null){D=D.replace(G,F)}};B&&n.forEach(E);y.forEach(E);return D}};b.template=k();b.addTemplateRule=function(C,B){y.push({regexp:C,result:B})};b.addTemplateRule(/{baseUrl}/gi,function(){return b.config.baseUrl});b.addTemplateRule(/{location:protocol}/g,a.protocol);b.addTemplateRule(/{location:search}/g,function(){return a.search?a.search.substr(1):""});b.addTemplateRule(/{location:url}/g,function(){return a.protocol?(a.protocol+"//"+a.host+a.pathname):""});b.addTemplateRule(/{location:hash}/g,function(){return a.hash?a.hash.substr(1):""});var j=b.Util={};j.limited=function(E,D){var C=false,B=null;if(D){return function(){var H=this,G=arguments,F=new Date().getTime();if(!B||F-B>=D){B=F;E.apply(H,G)}}}else{return function(){var G=this,F=arguments;if(!C){C=true;h(function(){C=false;E.apply(G,F)})}}}};j.deferred=function(C,B){var D=null;if(B){return function(){var F=this,E=arguments;if(D){clearTimeout(D)}D=setTimeout(function(){C.apply(F,E);D=null},B)}}else{return function(){var F=this,E=arguments;if(D){clearTimeout(D)}D=setTimeout(function(){h(function(){C.apply(F,E);D=null})},85)}}};j.XHR=function(){var B;B=(function(){try{return new XMLHttpRequest()}catch(C){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(C){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(C){}}());if(!B){B={};B.open=B.send=g;b.error("No Support: XMLHttpRequest")}return B};j.fixError=function(B){B.line=B.line||B.lineNumber||(function(){if(!B.stack){return 0}var D=B.stack,C;D=D.replace(new RegExp("(.+): "+B.message+"\n"),"");D=D.split("\n");C=D[0].replace(/(\s+|\))$/i,"").match(/:\d(:?\d)*$/g);C=(C&&C.length)?C[0].substr(1):"*";return C}());B.source=(B.sourceURL||B.fileName||(function(){return""}())).split("?")[0];return B};j.requestTextContent=function(B,C){return new d(function(D,E){var G=new j.XHR;B=b.template(B);try{G.open("GET",b.config.cache?B:b.URL.randomize(B),C);G.onreadystatechange=function(){if(G.readyState==4){if(G.status==200){D(G.responseText)}else{if(G.status==0&&G.responseText){D(G.responseText)}else{E(new Error("Error 404: file '"+B+"' was not found"))}}this.onreadystatechange=null}};G.send(null)}catch(F){E(F)}})};j.execute=function(B){return(new Function("return ("+B+")"))()};j.asyncCall=function(C,B){return C?e(B):(l,B())};j.merge=function(C,B){var D=function(G,E){var F;for(F in E){if(!E.hasOwnProperty(F)){continue}if(G[F]&&typeof G[F]==="object"){D(G[F],E[F])}else{G[F]=E[F]}}};if(C&&B&&typeof C==="object"&&typeof B==="object"){D(C,B)}return C};j.relocateCSS=function(D,E,C){if(!D){return""}if(!E&&a.href){E=a.href}if(!C&&a.href){C=a.href}E=b.URL.normalize(E);C=b.URL.normalize(C);if(/(\.css|\.html|\.xhtml|\.jsp|\.asp|\.aspx\.php)$/.test(E)){E=E.substr(0,E.lastIndexOf("/"))}if(/(\.css|\.html|\.xhtml|\.jsp|\.asp|\.aspx\.php)$/.test(C)){C=C.substr(0,C.lastIndexOf("/"))}var B=/^(http|file|\/)/.test(E),F=/^(http|file|\/)/.test(C);return D.replace(/url\(\"?'?(.+?)\"?'?\)/g,function(I,H){var G=E.split("/"),K,J;if(H.match(/^(http|data|file|\/)/)){return I}else{if(!B&&!F){J=(function(){var M=C.split("/").length,L="";while(C&&M--){L+="../"}return L}());while(H.indexOf("../")===0&&G.length){H=H.replace(/^\.\.\//,"");G.pop()}K=G.join("/");H=J+(K?(K+"/"):"")+H}else{while(H.indexOf("../")===0&&G.length){H=H.replace(/^\.\.\//,"");G.pop()}K=G.join("/");H=(K?(K+"/"):"")+H}return"url("+H+")"}})};j.injectCSS=function(D,G,C){if(!s||!D){return null}var B,F=C||s.createElement("style");if(G instanceof Object){for(B in G){if(G[B]){F.setAttribute(B,G[B]===true?"":G[B])}}}if(!C){s.head.appendChild(F)}try{F.appendChild(s.createTextNode(D))}catch(E){F.styleSheet.cssText=D}return F};j.addDOMEvent=function(D,C,B){if(D.attachEvent){D["e"+C+B]=B;D[C+B]=function(){D["e"+C+B](o.event)};D.attachEvent("on"+C,D[C+B])}else{if(D.addEventListener){D.addEventListener(C,B,false)}}};j.removeDOMEvent=function(D,C,B){if(D.detachEvent){D.detachEvent("on"+C,D[C+B]);D["e"+C+B]=null;D[C+B]=null}else{if(D.removeEventListener){D.removeEventListener(C,B,false)}}};b.URL={};b.URL.randomize=function(B){if(!/(\?|\&)rand=/.test(B)){return B+(B.indexOf("?")===-1?"?":"&")+"rand="+(Math.random()*Math.pow(10,7)).toFixed(0)}return B};b.URL.isExternal=function(B){B=b.template(B);return((/htt(p|ps):\/\//i.test(B))&&!(new RegExp("htt(p|ps):\\/\\/"+a.hostname,"i").test(B)))};b.URL.isAvailable=function(B){var D=new j.XHR;B=b.template(B);try{D.open("HEAD",b.URL.randomize(B),false);D.send();if(D.readyState!=4){return false}switch(D.status){case 200:case 301:case 302:case 303:case 307:return true;case 0:return(!/^https*:\/\//.test(B)&&!!D.responseText);default:return false}}catch(C){return false}};b.URL.isAvailableAsync=function(B){return new d(function(E,C){var F=new j.XHR;B=b.template(B);try{F.open("HEAD",b.URL.randomize(B),true);F.onreadystatechange=function(){if(F.readyState!=4){return false}switch(F.status){case 200:case 301:case 302:case 303:case 307:E(true);break;case 0:E(!/^https*:\/\//.test(B)&&!!F.responseText);break;default:E(false)}this.onreadystatechange=null};F.send()}catch(D){C(D)}})};b.URL.normalize=function(B){if(!B){return""}B=B.trim();B=B.replace(/^\/\//g,a.protocol+"//");B=B.replace(/\\/g,"/");B=B.replace(/^.\//,"");B=B.replace(/\/+$/,"");return B};b.JSON={};b.JSON.parse=u.JSON?JSON.parse:j.execute;b.JSON.stringify=u.JSON?JSON.stringify:function(B){return(function C(E){var D,F;if(!E){return String(E)}else{switch(Object.prototype.toString.call(E)){case"[object Function]":return"undefined";case"[object Object]":F=[];for(D in E){if(E.hasOwnProperty(D)){F.push('"'+D+'":'+C(E[D]))}}return"{"+String(F)+"}";case"[object Array]":return"["+String(E)+"]";case"[object String]":return'"'+escape(E)+'"';default:return String(E)}}}(B))};b.request=function(D,C){var B;j.requestTextContent(D,false).then(function(E){B=E},function(E){C(E)});return B||" "};b.requestSync=function(B){return j.requestTextContent(B,false)};b.requestAsync=function(B){return j.requestTextContent(B,true)};b.error=function(){var C=0,D,B=[];while(D=arguments[C++]){B.push(((D.message)?(D.name+": "+D.message):D))}console.error(B.join(" "));return this};b.config={baseUrl:a.href?(a.protocol+"//"+a.host+a.pathname.substr(0,a.pathname.lastIndexOf("/"))):"",cache:false,cacheImages:false,cacheMedia:false};b.invoke=function(C,E){if(!C){return}E=(E&&typeof E==="object")?E:{};var B,G,D;if(C in q){G=0;while(D=q[C][G++]){D(E)}}for(B in v){if(v[B]&&v[B].initiated&&"listen" in v[B].body&&C in v[B].body.listen){if(typeof v[B].body.listen[C]==="function"){try{v[B].body.listen[C](E)}catch(F){j.fixError(F);b.error("[Module: "+v[B].name+":listen."+C+":"+F.line+"]",F)}}else{if(v[B].body.listen[C].length){G=0;while(D=v[B].body.listen[C][G++]){try{D(E)}catch(F){j.fixError(F);b.error("[Module: "+v[B].name+":listen."+C+".handler("+(G-1)+"):"+F.line+"]",F)}}}}}if(v[B]&&v[B].initiated&&v[B].body.runtime_listen&&C in v[B].body.runtime_listen){G=0;while(D=v[B].body.runtime_listen[C][G++]){try{D(E)}catch(F){j.fixError(F);b.error("[Module: "+v[B].name+":runtime_listen."+C+".handler("+(G-1)+"):"+F.line+"]",F)}}}}return this};b.listen=function(B,C){var D;if(B&&C){D=q[B]||[];D=(D instanceof Array)?D.concat(C):[D].concat(C);q[B]=D}return this};b.action=function(B,D){if(eveactionTypent&&(B in A)){var C=0,E;while(E=A[B][C++]){E(D,{type:B,targetName:"Core",timeStamp:(new Date()).getTime(),detail:D})}}return this};b.listen("layout-update",function(B){("width" in B)||(B.width=s.documentElement.offsetWidth);("height" in B)||(B.height=s.documentElement.offsetHeight);("orientation" in B)||(B.orientation=("orientation" in o)?((o.orientation==0||o.orientation==180)?"portraid":"landscape"):((B.height>B.width)?"portraid":"landscape"));("layout" in B)||(B.layout="default")});b.DOMReady.then(function(){b.invoke("app-ready")});b.DOMLoaded.then(function(){b.invoke("app-load")});j.addDOMEvent(o,"resize",j.limited(function(){b.invoke("layout-update")}));b.DOMReady.then(function(){b.invoke("layout-update")});b.Features={touch:s&&(("createTouch" in s)||(/android|blackberry/i.test(navigator.userAgent)&&"ontouchstart" in o)),retina:(function(){return((o.devicePixelRatio&&o.devicePixelRatio>=2)||"matchMedia" in o&&o.matchMedia("(min-resolution: 2dppx), (min--moz-device-pixel-ratio:2), (-o-min-device-pixel-ratio:2), (-webkit-min-device-pixel-ratio:2)").matches||(o.screen&&screen.deviceXDPI&&screen.logicalXDPI&&screen.deviceXDPI/screen.logicalXDPI>=2))?true:false}())};b.configure=function(C){if(!C){return}var B=(typeof C==="string")?b.template(C):"";if(B&&b.URL.isAvailable(B)){C=j.execute(b.request(B));if(C){j.merge(b.config,C)}}else{j.merge(b.config,C)}return this};b.include=function(D){if(!D){return}D=D.replace(/\/+$/,"");var C=[],B=k({moduleUrl:D});C.push(b.load(D+"/style.css","defer"));if(!-[1]){C.push(b.load(D+"/ie.css","defer"))}if(b.URL.isAvailable(D+"/index.html")){C.push(b.load(D+"/index.html",{type:"unknown"}).then(function(E){E=B(E);s.writeln(E);return E}))}C.push(b.load(D+"/register.js","defer reload").then(function(){var E=v[f];E.url=E.moduleUrl=D}));w=w.concat(C);return d.any(C)};b.register=function(E,B){var D,C;if(typeof B==="function"){D=new t(E);B=new B(D)}C=("css" in B)||("init" in B)||("destroy" in B)||("listen" in B);if(C){v[E]=new z(E,B);v[E].sandbox=D;f=E}return this};b.start=function(){var D,B,F=arguments.length,C=0,E=[];while(B=arguments[C++]){D=v[B];if(!D){continue}E.push(D.start().then(null,function(G){b.error("[Module: "+D.name+":init:"+G.line+"]",G)}))}return d.some(E).then((F>1)?null:function(G){return d(G[0])},(F>1)?null:function(G){return G[0]})};b.stop=function(){var D,B,F=arguments.length,C=0,E=[];while(B=arguments[C++]){D=v[B];if(!D){continue}E.push(D.stop().then(null,function(G){b.error("[Module: "+D.name+":destroy:"+G.line+"]",G)}))}return d.some(E).then((F>1)?null:function(G){return d(G[0])},(F>1)?null:function(G){return G[0]})};b.startAll=function(){var B,C=[];for(B in v){C.push(b.start(B))}return d.any(C)};b.stopAll=function(){var B,C=[];for(B in v){C.push(b.stop(B))}return d.any(C)};b.extend=function(B){var E,D,C;if(typeof B!=="function"&&(typeof B!=="object"||(B instanceof Array))){b.error("Core.extend() argument must be a function or object.");return}E=(typeof B==="function")?B(b,t):B;if(!E){return}for(D in E){if(D in b){if(/^register|start|stop|extend|invoke|load|template$/.test(D)){b.error('"'+D+'" feature is not extendable');continue}for(C in E[D]){if(D=="Actions"||D=="actions"){if(typeof E[D][C]==="function"){A[C]=(C in A)?A[C].concat([E[D][C]]):[E[D][C]]}else{if(E[D][C].length){A[C]=(C in A)?A[C].concat(E[D][C]):E[D][C]}}}else{b[D][C]=E[D][C]}}}else{b[D]=E[D]}}return this};(function(C,B){if(typeof exports==="object"){module.exports=B()}else{if(typeof define==="function"&&define.amd){(s&&s.body)?define(B):define("Core",[],B)}else{if(C){C.Core={load:b.load,UIReady:b.UIReady,DOMReady:b.DOMReady,DOMLoaded:b.DOMLoaded,include:b.include,register:b.register,start:b.start,stop:b.stop,startAll:b.startAll,stopAll:b.stopAll,extend:b.extend,configure:b.configure}}}}}(u,function(){return b}))}((typeof window!=="undefined")?window:undefined,(typeof global!=="undefined")?global:undefined));